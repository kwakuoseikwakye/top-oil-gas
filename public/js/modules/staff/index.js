(()=>{var t,e={266:()=>{var t=$("#staff-table").DataTable({dom:"Bfrtip",order:[],ordering:!0,ajax:{url:"".concat(APP_URL,"/api/staff/").concat(CODE),type:"GET"},processing:!0,responsive:!0,autoWidth:!1,columns:[{data:"name"},{data:"email"},{data:"phone"},{data:"action"}],buttons:[{extend:"print",title:"Staff Lists",attr:{class:"btn btn-sm btn-info rounded-right"},exportOptions:{columns:[0,1,2]}},{extend:"copy",title:"Staff List",attr:{class:"btn btn-sm btn-info rounded-right"},exportOptions:{columns:[0,1,2]}},{extend:"excel",title:"Staff Lists",attr:{class:"btn btn-sm btn-info rounded-right"},exportOptions:{columns:[0,1,2]}},{extend:"pdf",title:"Staff List",attr:{class:"btn btn-sm btn-info rounded-right"},exportOptions:{columns:[0,1,2]}},{text:"Refresh",attr:{class:"ml-2 btn-secondary btn btn-sm rounded"},action:function(t,e,a,n){e.ajax.reload(!1,null)}}]}),e=$("#unapprove-staff-table").DataTable({dom:"Bfrtip",order:[],ordering:!0,ajax:{url:"".concat(APP_URL,"/api/staff/unapprove/").concat(CODE),type:"GET"},processing:!0,responsive:!0,autoWidth:!1,columns:[{data:"name"},{data:"email"},{data:"phone"},{data:"action"}],buttons:[{extend:"print",title:"Staff Lists",attr:{class:"btn btn-sm btn-info rounded-right"},exportOptions:{columns:[0,1,2]}},{extend:"copy",title:"Staff List",attr:{class:"btn btn-sm btn-info rounded-right"},exportOptions:{columns:[0,1,2]}},{extend:"excel",title:"Staff Lists",attr:{class:"btn btn-sm btn-info rounded-right"},exportOptions:{columns:[0,1,2]}},{extend:"pdf",title:"Staff List",attr:{class:"btn btn-sm btn-info rounded-right"},exportOptions:{columns:[0,1,2]}},{text:"Refresh",attr:{class:"ml-2 btn-secondary btn btn-sm rounded"},action:function(t,e,a,n){e.ajax.reload(!1,null)}}]}),a=document.getElementById("add-staff-form");$(a).submit((function(e){e.preventDefault();var n=new FormData(a);n.append("createuser",CREATEUSER),n.append("company_code",CODE),n.append("country",COUNTRY),Swal.fire({title:"Are you sure you want to add staff?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Submit"}).then((function(e){e.value&&(Swal.fire({text:"Adding...",showConfirmButton:!1,allowEscapeKey:!1,allowOutsideClick:!1}),fetch("".concat(APP_URL,"/api/staff/store"),{method:"POST",body:n}).then((function(t){return t.json()})).then((function(e){e.ok?(Swal.fire({text:"Staff added  successfully",icon:"success"}),$("#add-staff-modal").modal("hide"),$("select").val(null).trigger("change"),t.ajax.reload(!1,null),a.reset()):Swal.fire({text:e.msg,icon:"error"})})).catch((function(t){t&&Swal.fire({text:"Adding staff failed"})})))}))}));var n=document.getElementById("edit-staff-form");$(n).submit((function(e){e.preventDefault();var a=new FormData(n);a.append("createuser",CREATEUSER),Swal.fire({title:"Are you sure you want to update staff details?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Submit"}).then((function(e){e.value&&(Swal.fire({text:"Updating...",showConfirmButton:!1,allowEscapeKey:!1,allowOutsideClick:!1}),fetch("".concat(APP_URL,"/api/staff/update"),{method:"POST",body:a}).then((function(t){return t.json()})).then((function(e){e.ok?(Swal.fire({text:"Staff updated  successfully",icon:"success"}),$("#edit-staff-modal").modal("hide"),$("select").val(null).trigger("change"),t.ajax.reload(!1,null),n.reset()):Swal.fire({text:e.msg,icon:"error"})})).catch((function(t){t&&Swal.fire({text:"Updating staff failed"})})))}))})),$("#staff-table").on("click",".update-btn",(function(){var e=t.row($(this).parents("tr")).data();$("#edit-staff-modal").modal("show"),$("#edit-staff-fname").val(e.fname),$("#edit-staff-mname").val(e.mname),$("#edit-staff-lname").val(e.lname),$("#edit-staff-email").val(e.email),$("#edit-staff-phone").val(e.phone),$("#edit-staff-dob").val(e.dob),$("#edit-staff-salary").val(e.salary),$("#edit-staff-gender").val(e.gender).trigger("change"),$("#edit-staff-code").val(e.code)})),$("#staff-table").on("click",".info-btn",(function(){var e=t.row($(this).parents("tr")).data();$("#info-staff-modal").modal("show"),$("#info-staff-name").html(e.name),$("#info-staff-code").html(e.transid),$("#info-staff-salary").html(e.salary),$("#info-staff-gender").html(e.gender),$("#info-staff-email").html(e.email),$("#info-staff-phone").html(e.phone),document.getElementById("info-staff-image").setAttribute("src","".concat(e.picture))})),$("#staff-table").on("click",".delete-btn",(function(){var e=t.row($(this).parents("tr")).data();Swal.fire({title:"Are you sure you want to delete this staff?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete"}).then((function(a){a.value&&(Swal.fire({text:"Deleting...",showConfirmButton:!1,allowEscapeKey:!1,allowOutsideClick:!1}),$.ajax({url:"".concat(APP_URL,"/api/staff/destroy/").concat(e.code),type:"POST"}).done((function(e){e.ok?(Swal.fire({text:"Staff deleted successfully",icon:"success"}),t.ajax.reload(!1,null)):Swal.fire({text:e.msg,icon:"error"})})).fail((function(){alert("Processing failed")})))}))})),$("#unapprove-staff-table").on("click",".approve-btn",(function(){var a=e.row($(this).parents("tr")).data();Swal.fire({title:"Are you sure you want to approve this staff?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Approve"}).then((function(n){n.value&&(Swal.fire({text:"Processing...",showConfirmButton:!1,allowEscapeKey:!1,allowOutsideClick:!1}),$.ajax({url:"".concat(APP_URL,"/api/staff/approve/").concat(a.code),type:"POST"}).done((function(a){a.ok?(Swal.fire({text:"Staff approved successfully",icon:"success"}),t.ajax.reload(!1,null),e.ajax.reload(!1,null)):Swal.fire({text:a.msg,icon:"error"})})).fail((function(){alert("Processing failed")})))}))}))},662:()=>{}},a={};function n(t){var o=a[t];if(void 0!==o)return o.exports;var r=a[t]={exports:{}};return e[t](r,r.exports,n),r.exports}n.m=e,t=[],n.O=(e,a,o,r)=>{if(!a){var i=1/0;for(l=0;l<t.length;l++){for(var[a,o,r]=t[l],s=!0,f=0;f<a.length;f++)(!1&r||i>=r)&&Object.keys(n.O).every((t=>n.O[t](a[f])))?a.splice(f--,1):(s=!1,r<i&&(i=r));s&&(t.splice(l--,1),e=o())}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[a,o,r]},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={330:0,170:0};n.O.j=e=>0===t[e];var e=(e,a)=>{var o,r,[i,s,f]=a,l=0;for(o in s)n.o(s,o)&&(n.m[o]=s[o]);for(f&&f(n),e&&e(a);l<i.length;l++)r=i[l],n.o(t,r)&&t[r]&&t[r][0](),t[i[l]]=0;n.O()},a=self.webpackChunk=self.webpackChunk||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})(),n.O(void 0,[170],(()=>n(266)));var o=n.O(void 0,[170],(()=>n(662)));o=n.O(o)})();